# ç¨å‹™æ›¸é¡åˆ†å‰²ãƒ»ãƒªãƒãƒ¼ãƒ å‡¦ç† ä¿®æ­£è¦ä»¶å®šç¾©æ›¸

## ã€èƒŒæ™¯ãƒ»ç›®çš„ã€‘
ç¨å‹™æ›¸é¡ç”»åƒèªè­˜ã‚·ã‚¹ãƒ†ãƒ ã«ãŠã„ã¦ã€åˆ†å‰²å‡¦ç†ã®åˆ¤å®šãƒ­ã‚¸ãƒƒã‚¯ã¨ãƒªãƒãƒ¼ãƒ å‡¦ç†ã«æ ¹æœ¬çš„ãªå•é¡ŒãŒã‚ã‚Šã€ä¸è¦ãªåˆ†å‰²ã®å®Ÿè¡Œã¨æ­£ã—ã„ãƒ•ã‚¡ã‚¤ãƒ«åä»˜ä¸ãŒã§ãã¦ã„ãªã„çŠ¶æ³ã®ä¿®æ­£ã€‚

## ã€é–‹ç™ºæ–¹é‡ã€‘
åŸºæœ¬çš„ã«ã€ä¿®æ­£ç‚¹ã¨ç¾çŠ¶ã‚’ä¿®æ­£ã®éƒ½åº¦ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆåŒ–ã—ã€ä¿®æ­£å¾Œã«è¦æ±‚ã•ã‚Œã‚‹æ©Ÿèƒ½ã‚’ã‚¼ãƒ­ãƒ™ãƒ¼ã‚¹ã§æ§‹ç¯‰ã™ã‚‹ã“ã¨ã€‚ãã®éš›ã€githubã«ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆåŒ–â‡’ç”Ÿæˆã®æµã‚Œã§åŠ¹ç‡åŒ–

---

## ã€ç¾çŠ¶ã®èª²é¡Œã€‘

### ğŸ”´ **å•é¡Œâ‘  ä¸è¦ãªåˆ†å‰²å‡¦ç†ã®å®Ÿè¡Œ**
```
ã€ç¾çŠ¶ã€‘æ¶ˆè²»ç¨ç”³å‘Šæ›¸ç­‰ã®å˜ä¸€æ›¸é¡ãŒåˆ†å‰²ã•ã‚Œã¦ã„ã‚‹
ã€å•é¡Œã€‘åˆ†å‰²ä¸è¦ãªæ›¸é¡ã«å¯¾ã—ã¦åˆ†å‰²å‡¦ç†ãŒå®Ÿè¡Œã•ã‚Œã€ä¸æ­£ãªãƒ•ã‚¡ã‚¤ãƒ«åˆ†å‰²ãŒç™ºç”Ÿ
ã€å½±éŸ¿ã€‘å˜ä¸€æ›¸é¡ãŒè¤‡æ•°ãƒ•ã‚¡ã‚¤ãƒ«ã«åˆ†å‰²ã•ã‚Œã€å¾Œç¶šå‡¦ç†ã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿ
```

### ğŸ”´ **å•é¡Œâ‘¡ åˆ†å‰²å¯¾è±¡ã®èª¤åˆ¤å®š**
```
ã€ç¾çŠ¶ã€‘åˆ†å‰²ä¸è¦ãªæ›¸é¡ã‚’èª¤ã£ã¦åˆ†å‰²å¯¾è±¡ã¨ã—ã¦é¸æŠã—ã¦ã„ã‚‹
ã€å•é¡Œã€‘åˆ†å‰²åˆ¤å®šã®æ¡ä»¶è¨­å®šãŒåºƒã™ãã‚‹ãŸã‚ã€å˜ä¸€æ›¸é¡ãŒåˆ†å‰²å¯¾è±¡ã¨èª¤èªè­˜ã•ã‚Œã‚‹
ã€å…·ä½“ä¾‹ã€‘å…¨ã¦ã‹ã©ã†ã‹ä¸æ˜ã ãŒã€å˜ä¸€å‡¦ç†ã™ã¹ãæ›¸é¡ãŒåˆ†å‰²å‡¦ç†ã«ã‹ã‘ã‚‰ã‚Œã¦ã„ã‚‹
ã€å½±éŸ¿ã€‘å˜ä¸€æ›¸é¡ãŒä¸é©åˆ‡ã«è¤‡æ•°ãƒ•ã‚¡ã‚¤ãƒ«ã«åˆ†å‰²ã•ã‚Œã€å¾Œç¶šã®ãƒªãƒãƒ¼ãƒ å‡¦ç†ã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿ
```

### ğŸ”´ **å•é¡Œâ‘¢ åˆ†å‰²å¾Œãƒªãƒãƒ¼ãƒ å‡¦ç†ã®ç•°å¸¸**
```
ã€ç¾çŠ¶ã€‘åˆ†å‰²å¾Œã®æ›¸é¡ãŒã€Œã‚³ãƒ”ãƒ¼å¾Œãƒªãƒãƒ¼ãƒ ã€ã¨ãªã‚Šã€æ­£ã—ã„ãƒ•ã‚¡ã‚¤ãƒ«åãŒä»˜ä¸ã•ã‚Œãªã„
ã€å•é¡Œã€‘åˆ†å‰²å‡¦ç†ã¨ãƒªãƒãƒ¼ãƒ å‡¦ç†ãŒé©åˆ‡ã«é€£æºã—ã¦ã„ãªã„
ã€å½±éŸ¿ã€‘è¦ä»¶å®šç¾©é€šã‚Šã®ãƒ•ã‚¡ã‚¤ãƒ«åãŒç”Ÿæˆã•ã‚Œãªã„
```

---

## ã€ä¿®æ­£è¦ä»¶è©³ç´°ã€‘

### 1. **åˆ†å‰²åˆ¤å®šãƒ­ã‚¸ãƒƒã‚¯ã®å®Ÿè£…**

#### åˆ†å‰²å¯¾è±¡ã®å³æ ¼ãªå®šç¾©
```
ã€åˆ†å‰²ãŒå¿…è¦ãªæ›¸é¡ã®åˆ¤å®šæ¡ä»¶ã€‘
ä»¥ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«åãƒ‘ã‚¿ãƒ¼ãƒ³ã«å¯¾å¿œã™ã‚‹æ›¸é¡ãŒå«ã¾ã‚Œã‚‹å ´åˆã®ã¿åˆ†å‰²å‡¦ç†ã‚’å®Ÿè¡Œï¼š

â–  å›½ç¨é–¢é€£ã‚»ãƒƒãƒˆ
- 0003_å—ä¿¡é€šçŸ¥_YYMMï¼ˆæ³•äººç¨ç”³å‘Šå—ä¿¡é€šçŸ¥ï¼‰
- 0004_ç´ä»˜æƒ…å ±_YYMMï¼ˆæ³•äººç¨ç´ä»˜æƒ…å ±ï¼‰
- 3003_å—ä¿¡é€šçŸ¥_YYMMï¼ˆæ¶ˆè²»ç¨ç”³å‘Šå—ä¿¡é€šçŸ¥ï¼‰
- 3004_ç´ä»˜æƒ…å ±_YYMMï¼ˆæ¶ˆè²»ç¨ç´ä»˜æƒ…å ±ï¼‰

â–  åœ°æ–¹ç¨é–¢é€£ã‚»ãƒƒãƒˆ
éƒ½é“åºœçœŒåˆ†ï¼š
- 1003_å—ä¿¡é€šçŸ¥_YYMMï¼ˆ1ç•ªç›®éƒ½é“åºœçœŒï¼‰
- 1013_å—ä¿¡é€šçŸ¥_YYMMï¼ˆ2ç•ªç›®éƒ½é“åºœçœŒï¼‰
- 1023_å—ä¿¡é€šçŸ¥_YYMMï¼ˆ3ç•ªç›®éƒ½é“åºœçœŒï¼‰
- 1033_å—ä¿¡é€šçŸ¥_YYMMï¼ˆ4ç•ªç›®éƒ½é“åºœçœŒï¼‰
- 1043_å—ä¿¡é€šçŸ¥_YYMMï¼ˆ5ç•ªç›®éƒ½é“åºœçœŒï¼‰
- 1004_ç´ä»˜æƒ…å ±_YYMMï¼ˆéƒ½é“åºœçœŒç´ä»˜æƒ…å ±ï¼‰

å¸‚ç”ºæ‘åˆ†ï¼š
- 2003_å—ä¿¡é€šçŸ¥_YYMMï¼ˆ1ç•ªç›®å¸‚ç”ºæ‘ï¼‰
- 2013_å—ä¿¡é€šçŸ¥_YYMMï¼ˆ2ç•ªç›®å¸‚ç”ºæ‘ï¼‰
- 2023_å—ä¿¡é€šçŸ¥_YYMMï¼ˆ3ç•ªç›®å¸‚ç”ºæ‘ï¼‰
- 2033_å—ä¿¡é€šçŸ¥_YYMMï¼ˆ4ç•ªç›®å¸‚ç”ºæ‘ï¼‰
- 2043_å—ä¿¡é€šçŸ¥_YYMMï¼ˆ5ç•ªç›®å¸‚ç”ºæ‘ï¼‰
- 2004_ç´ä»˜æƒ…å ±_YYMMï¼ˆå¸‚ç”ºæ‘ç´ä»˜æƒ…å ±ï¼‰
```

#### ã‚»ãƒƒãƒˆåˆ¤å®šã®å®Ÿè£…
```
ã€å›½ç¨ã‚»ãƒƒãƒˆåˆ¤å®šã€‘
- 0003 + 0004 ã®çµ„ã¿åˆã‚ã›ï¼ˆæ³•äººç¨ï¼‰
- 3003 + 3004 ã®çµ„ã¿åˆã‚ã›ï¼ˆæ¶ˆè²»ç¨ï¼‰

ã€åœ°æ–¹ç¨ã‚»ãƒƒãƒˆåˆ¤å®šã€‘
- 1003/1013/1023/1033/1043 + 1004 ã®çµ„ã¿åˆã‚ã›ï¼ˆéƒ½é“åºœçœŒåˆ†ï¼‰
- 2003/2013/2023/2033/2043 + 2004 ã®çµ„ã¿åˆã‚ã›ï¼ˆå¸‚ç”ºæ‘åˆ†ï¼‰
```

### 2. **åˆ†å‰²ä¸è¦æ›¸é¡ã®æ˜ç¢ºåŒ–**

#### å˜ä¸€å‡¦ç†å¯¾è±¡æ›¸é¡
```
ã€åˆ†å‰²ä¸è¦ï¼ˆå˜ä¸€å‡¦ç†ï¼‰æ›¸é¡ä¸€è¦§ã€‘
ç”³å‘Šæ›¸é¡ï¼š
- 3001_æ¶ˆè²»ç¨åŠã³åœ°æ–¹æ¶ˆè²»ç¨ç”³å‘Šæ›¸_YYMM
- 0001_æ³•äººç¨åŠã³åœ°æ–¹æ³•äººç¨ç”³å‘Šæ›¸_YYMM
- 0000_ç´ä»˜ç¨é¡ä¸€è¦§è¡¨_YYMM
- 0002_æ·»ä»˜è³‡æ–™_YYMMï¼ˆæ³•äººç¨é–¢é€£ï¼‰
- 3002_æ·»ä»˜è³‡æ–™_YYMMï¼ˆæ¶ˆè²»ç¨é–¢é€£ï¼‰

éƒ½é“åºœçœŒãƒ»å¸‚ç”ºæ‘ç”³å‘Šæ›¸ï¼š
- 1001_[éƒ½é“åºœçœŒå]_æ³•äººéƒ½é“åºœçœŒæ°‘ç¨ãƒ»äº‹æ¥­ç¨ãƒ»ç‰¹åˆ¥æ³•äººäº‹æ¥­ç¨_YYMM
- 2001_[éƒ½é“åºœçœŒå][å¸‚ç”ºæ‘å]_æ³•äººå¸‚æ°‘ç¨_YYMM

ä¼šè¨ˆæ›¸é¡ï¼ˆ5000ç•ªå°ï¼‰ï¼š
- 5001_æ±ºç®—æ›¸_YYMM
- 5002_ç·å‹˜å®šå…ƒå¸³_YYMM
- 5003_è£œåŠ©å…ƒå¸³_YYMM
- 5004_æ®‹é«˜è©¦ç®—è¡¨_YYMM
- 5005_ä»•è¨³å¸³_YYMM
- 5006_ä»•è¨³ãƒ‡ãƒ¼ã‚¿_YYMM.csv

å›ºå®šè³‡ç”£é–¢é€£æ›¸é¡ï¼ˆ6000ç•ªå°ï¼‰ï¼š
- 6001_å›ºå®šè³‡ç”£å°å¸³_YYMM
- 6002_ä¸€æ‹¬å„Ÿå´è³‡ç”£æ˜ç´°è¡¨_YYMM
- 6003_å°‘é¡æ¸›ä¾¡å„Ÿå´è³‡ç”£æ˜ç´°è¡¨_YYMM

ç¨åŒºåˆ†é–¢é€£æ›¸é¡ï¼ˆ7000ç•ªå°ï¼‰ï¼š
- 7001_å‹˜å®šç§‘ç›®åˆ¥ç¨åŒºåˆ†é›†è¨ˆè¡¨_YYMM
- 7002_ç¨åŒºåˆ†é›†è¨ˆè¡¨_YYMM
```

### 3. **2æ®µéšå‡¦ç†ã‚·ã‚¹ãƒ†ãƒ ã®è¨­è¨ˆ**

#### å‡¦ç†ãƒ•ãƒ­ãƒ¼
```
ã€Stage 1: åˆ†å‰²åˆ¤å®šãƒ»å®Ÿè¡Œã€‘
1. ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ãƒ•ã‚¡ã‚¤ãƒ«ã®OCRå®Ÿè¡Œ
2. åˆ†å‰²å¯¾è±¡ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æ¤œå‡º
   - åˆ¤å®šã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ï¼šã€Œç¨ç›®ã€ã€Œç¨®ç›®ã€ã€Œæ³•äººç¨ç”³å‘Šæ›¸ã€ã€Œæ¶ˆè²»ç¨ç”³å‘Šæ›¸ã€
   - å—ä¿¡é€šçŸ¥ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼šã€Œç”³å‘Šå—ä»˜å®Œäº†é€šçŸ¥ã€ã€Œå—ä¿¡é€šçŸ¥ã€
   - ç´ä»˜æƒ…å ±ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼šã€Œç´ä»˜æƒ…å ±ç™ºè¡Œçµæœã€ã€Œç´ä»˜åŒºåˆ†ç•ªå·é€šçŸ¥ã€
3. åˆ†å‰²å¯¾è±¡åˆ¤å®šçµæœã«ã‚ˆã‚‹å‡¦ç†åˆ†å²
   - åˆ†å‰²å¯¾è±¡ã®å ´åˆï¼šãƒšãƒ¼ã‚¸å˜ä½åˆ†å‰²å®Ÿè¡Œ â†’ Stage 2ã¸
   - åˆ†å‰²ä¸è¦ã®å ´åˆï¼šStage 2ã¸ç›´æ¥ç§»è¡Œ

ã€Stage 2: ãƒªãƒãƒ¼ãƒ å‡¦ç†ã€‘
1. åˆ†å‰²æ¸ˆã¿å€‹åˆ¥ãƒ•ã‚¡ã‚¤ãƒ«ã¾ãŸã¯å…ƒãƒ•ã‚¡ã‚¤ãƒ«ã‚’å¯¾è±¡
2. å„ãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰åˆ¤å®šå®Ÿè¡Œï¼ˆå„ªå…ˆåº¦é †ï¼‰
3. æ‰‹å…¥åŠ›ã•ã‚ŒãŸéƒ½é“åºœçœŒãƒ»å¸‚ç”ºæ‘æƒ…å ±ã®é©ç”¨
4. è¦ä»¶å®šç¾©ã«åŸºã¥ããƒ•ã‚¡ã‚¤ãƒ«åç”Ÿæˆ
5. ãƒªãƒãƒ¼ãƒ å®Ÿè¡Œ
6. å‡¦ç†çµæœãƒ­ã‚°å‡ºåŠ›
```

#### åˆ†å‰²å¢ƒç•Œã®åˆ¤å®šã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ 
```python
# å®Ÿè£…ä¾‹
def detect_split_boundaries(pdf_pages, ocr_results):
    boundaries = []
    for i, page_text in enumerate(ocr_results):
        # æ–°ã—ã„æ›¸é¡ã®é–‹å§‹ã‚’ç¤ºã™ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æ¤œå‡º
        if any(keyword in page_text for keyword in [
            'ç¨å‹™ç½²é•·', 'éƒ½é“åºœçœŒçŸ¥äº‹', 'å¸‚ç”ºæ‘é•·',
            'ç”³å‘Šå—ä»˜å®Œäº†é€šçŸ¥', 'ç´ä»˜æƒ…å ±ç™ºè¡Œçµæœ'
        ]):
            boundaries.append(i)
    return boundaries
```

### 4. **ãƒ•ã‚¡ã‚¤ãƒ«åç”Ÿæˆãƒ­ã‚¸ãƒƒã‚¯ã®ä¿®æ­£**

#### åˆ†å‰²å¾Œãƒ•ã‚¡ã‚¤ãƒ«åã®é©æ­£åŒ–
```
ã€å•é¡Œã®è§£æ±ºæ–¹é‡ã€‘
ç¾çŠ¶ï¼šåˆ†å‰²å¾Œ â†’ "ãƒ•ã‚¡ã‚¤ãƒ«å_ã‚³ãƒ”ãƒ¼.pdf" â†’ ãƒªãƒãƒ¼ãƒ å¤±æ•—
ä¿®æ­£ï¼šåˆ†å‰²å¾Œ â†’ ä¸€æ™‚ãƒ•ã‚¡ã‚¤ãƒ«å â†’ åˆ¤å®šçµæœã«ã‚ˆã‚‹æ­£å¼ãƒ•ã‚¡ã‚¤ãƒ«åä»˜ä¸

ã€å®Ÿè£…æ–¹æ³•ã€‘
1. åˆ†å‰²æ™‚ã¯ä¸€æ™‚ãƒ•ã‚¡ã‚¤ãƒ«åï¼ˆtemp_001.pdf, temp_002.pdfç­‰ï¼‰ã‚’ä½¿ç”¨
2. å„ä¸€æ™‚ãƒ•ã‚¡ã‚¤ãƒ«ã«å¯¾ã—ã¦ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰åˆ¤å®šå®Ÿè¡Œ
3. åˆ¤å®šçµæœ + æ‰‹å…¥åŠ›æƒ…å ± â†’ æœ€çµ‚ãƒ•ã‚¡ã‚¤ãƒ«åç”Ÿæˆ
4. ä¸€æ™‚ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æœ€çµ‚ãƒ•ã‚¡ã‚¤ãƒ«åã§ãƒªãƒãƒ¼ãƒ 
5. å‡¦ç†å®Œäº†å¾Œã€ä¸€æ™‚ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‰Šé™¤
```

---

## ã€å®Ÿè£…ä»•æ§˜ã€‘

### 1. **åˆ†å‰²åˆ¤å®šã®å®Ÿè£…**

#### ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æ¤œå‡ºãƒ­ã‚¸ãƒƒã‚¯
```python
# åˆ†å‰²å¯¾è±¡åˆ¤å®šã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰
SPLIT_KEYWORDS = {
    'receipt_notice': ['ç”³å‘Šå—ä»˜å®Œäº†é€šçŸ¥', 'å—ä¿¡é€šçŸ¥'],
    'payment_info': ['ç´ä»˜æƒ…å ±ç™ºè¡Œçµæœ', 'ç´ä»˜åŒºåˆ†ç•ªå·é€šçŸ¥'],
    'tax_types': ['æ³•äººç¨ç”³å‘Šæ›¸', 'æ¶ˆè²»ç¨ç”³å‘Šæ›¸', 'æ³•äººéƒ½é“åºœçœŒæ°‘ç¨']
}

def should_split_pdf(ocr_text):
    split_indicators = 0
    for category, keywords in SPLIT_KEYWORDS.items():
        for keyword in keywords:
            if keyword in ocr_text:
                split_indicators += 1
    
    # 2ã¤ä»¥ä¸Šã®ç•°ãªã‚‹æ›¸é¡ç¨®åˆ¥ãŒæ¤œå‡ºã•ã‚ŒãŸå ´åˆã¯åˆ†å‰²å¯¾è±¡
    return split_indicators >= 2
```

### 2. **åˆ†å‰²å‡¦ç†ã®å®Ÿè£…**

#### ãƒšãƒ¼ã‚¸åˆ†å‰²ãƒ­ã‚¸ãƒƒã‚¯
```python
def split_pdf_by_boundaries(pdf_path, boundaries):
    temp_files = []
    pdf_reader = PdfReader(pdf_path)
    
    for i, start_page in enumerate(boundaries):
        end_page = boundaries[i+1] if i+1 < len(boundaries) else len(pdf_reader.pages)
        
        pdf_writer = PdfWriter()
        for page_num in range(start_page, end_page):
            pdf_writer.add_page(pdf_reader.pages[page_num])
        
        temp_filename = f"temp_{i+1:03d}.pdf"
        with open(temp_filename, 'wb') as output_file:
            pdf_writer.write(output_file)
        
        temp_files.append(temp_filename)
    
    return temp_files
```

### 3. **ãƒªãƒãƒ¼ãƒ å‡¦ç†ã®ä¿®æ­£**

#### æœ€çµ‚ãƒ•ã‚¡ã‚¤ãƒ«åç”Ÿæˆ
```python
def generate_final_filename(temp_file, user_inputs, yymm):
    ocr_text = perform_ocr(temp_file)
    document_type = classify_document(ocr_text)
    
    if document_type in ['prefecture_tax', 'municipal_tax']:
        # éƒ½é“åºœçœŒãƒ»å¸‚ç”ºæ‘æƒ…å ±ã‚’ä½¿ç”¨
        location_info = get_location_from_inputs(user_inputs, document_type)
        return f"{document_type}_{location_info}_{yymm}.pdf"
    else:
        # æ¨™æº–ãƒ‘ã‚¿ãƒ¼ãƒ³
        return f"{document_type}_{yymm}.pdf"
```

---

## ã€ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã€‘

### 1. **åˆ†å‰²å¯¾è±¡ã®æ­£å¸¸ç³»**
```
ã€å…¥åŠ›ã€‘æ³•äººç¨å—ä¿¡é€šçŸ¥ + æ³•äººç¨ç´ä»˜æƒ…å ± + æ¶ˆè²»ç¨å—ä¿¡é€šçŸ¥ + æ¶ˆè²»ç¨ç´ä»˜æƒ…å ±ã®è¤‡åˆPDF
ã€æœŸå¾…çµæœã€‘
- 0003_å—ä¿¡é€šçŸ¥_YYMM.pdf
- 0004_ç´ä»˜æƒ…å ±_YYMM.pdf  
- 3003_å—ä¿¡é€šçŸ¥_YYMM.pdf
- 3004_ç´ä»˜æƒ…å ±_YYMM.pdf
```

### 2. **åˆ†å‰²ä¸è¦ã®æ­£å¸¸ç³»**
```
ã€å…¥åŠ›ã€‘æ¶ˆè²»ç¨ç”³å‘Šæ›¸ã®å˜ä¸€PDF
ã€æœŸå¾…çµæœã€‘
- 3001_æ¶ˆè²»ç¨åŠã³åœ°æ–¹æ¶ˆè²»ç¨ç”³å‘Šæ›¸_YYMM.pdfï¼ˆåˆ†å‰²å‡¦ç†ãªã—ï¼‰
```

### 3. **è¤‡æ•°éƒ½é“åºœçœŒãƒ»å¸‚ç”ºæ‘ã®åˆ†å‰²**
```
ã€å…¥åŠ›ã€‘æ±äº¬éƒ½ + å¤§é˜ªåºœå¤§é˜ªå¸‚ + ç¦å²¡çœŒç¦å²¡å¸‚ã®å—ä¿¡é€šçŸ¥ãƒ»ç´ä»˜æƒ…å ±ã‚»ãƒƒãƒˆ
ã€æœŸå¾…çµæœã€‘
- 1003_å—ä¿¡é€šçŸ¥_YYMM.pdfï¼ˆæ±äº¬éƒ½ï¼‰
- 1013_å—ä¿¡é€šçŸ¥_YYMM.pdfï¼ˆå¤§é˜ªåºœï¼‰
- 1023_å—ä¿¡é€šçŸ¥_YYMM.pdfï¼ˆç¦å²¡çœŒï¼‰
- 2003_å—ä¿¡é€šçŸ¥_YYMM.pdfï¼ˆå¤§é˜ªå¸‚ï¼‰
- 2013_å—ä¿¡é€šçŸ¥_YYMM.pdfï¼ˆç¦å²¡å¸‚ï¼‰
- 1004_ç´ä»˜æƒ…å ±_YYMM.pdf
- 2004_ç´ä»˜æƒ…å ±_YYMM.pdf
```

---

## ã€ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã€‘

### 1. **åˆ†å‰²åˆ¤å®šã‚¨ãƒ©ãƒ¼**
```
ã€ã‚±ãƒ¼ã‚¹ã€‘åˆ†å‰²å¯¾è±¡ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãŒéƒ¨åˆ†çš„ã«ã—ã‹æ¤œå‡ºã•ã‚Œãªã„
ã€å¯¾å¿œã€‘ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«æ‰‹å‹•åˆ¤å®šã‚’ä¿ƒã™ã‚¢ãƒ©ãƒ¼ãƒˆè¡¨ç¤º

ã€ã‚±ãƒ¼ã‚¹ã€‘OCRèª­ã¿å–ã‚Šç²¾åº¦ãŒä½ã„
ã€å¯¾å¿œã€‘å†å‡¦ç†ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¾ãŸã¯æ‰‹å‹•åˆ†é¡ãƒ¢ãƒ¼ãƒ‰ã¸ã®åˆ‡ã‚Šæ›¿ãˆ
```

### 2. **åˆ†å‰²å‡¦ç†ã‚¨ãƒ©ãƒ¼**
```
ã€ã‚±ãƒ¼ã‚¹ã€‘PDFåˆ†å‰²æ™‚ã®ãƒ•ã‚¡ã‚¤ãƒ«ç ´æ
ã€å¯¾å¿œã€‘å…ƒãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä¿æŒã€ã‚¨ãƒ©ãƒ¼é€šçŸ¥

ã€ã‚±ãƒ¼ã‚¹ã€‘ä¸€æ™‚ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆå¤±æ•—
ã€å¯¾å¿œã€‘ãƒ‡ã‚£ã‚¹ã‚¯å®¹é‡ç¢ºèªã€ä¸€æ™‚ãƒ•ã‚©ãƒ«ãƒ€ã®æ¨©é™ç¢ºèª
```

### 3. **ãƒªãƒãƒ¼ãƒ å‡¦ç†ã‚¨ãƒ©ãƒ¼**
```
ã€ã‚±ãƒ¼ã‚¹ã€‘åŒåãƒ•ã‚¡ã‚¤ãƒ«ã®å­˜åœ¨
ã€å¯¾å¿œã€‘è‡ªå‹•é€£ç•ªä»˜ä¸ï¼ˆ_001, _002ç­‰ï¼‰

ã€ã‚±ãƒ¼ã‚¹ã€‘ãƒ•ã‚¡ã‚¤ãƒ«åã«ä½¿ç”¨ä¸å¯æ–‡å­—ãŒå«ã¾ã‚Œã‚‹
ã€å¯¾å¿œã€‘è‡ªå‹•æ–‡å­—ç½®æ›ï¼ˆç½®æ›ãƒ«ãƒ¼ãƒ«ã®è¨­å®šï¼‰
```

---

## ã€æœŸå¾…ã™ã‚‹æˆæœã€‘

### æˆæœç‰©
1. **æ­£ç¢ºãªåˆ†å‰²åˆ¤å®š**: åˆ†å‰²å¯¾è±¡ãƒ»ä¸è¦ã®åˆ¤å®šç²¾åº¦99%ä»¥ä¸Š
2. **é©åˆ‡ãªåˆ†å‰²å‡¦ç†**: ã‚»ãƒƒãƒˆæ›¸é¡ã®æ­£ç¢ºãªåˆ†å‰²ã¨ãƒ•ã‚¡ã‚¤ãƒ«ç”Ÿæˆ
3. **æ­£ã—ã„ãƒªãƒãƒ¼ãƒ **: è¦ä»¶å®šç¾©é€šã‚Šã®ãƒ•ã‚¡ã‚¤ãƒ«åä»˜ä¸ç‡95%ä»¥ä¸Š
4. **å‡¦ç†ã®å¯è¦–åŒ–**: åˆ†å‰²ãƒ»ãƒªãƒãƒ¼ãƒ å‡¦ç†ã®è©³ç´°ãƒ­ã‚°å‡ºåŠ›

### å“è³ªæŒ‡æ¨™
- åˆ†å‰²åˆ¤å®šç²¾åº¦: 99%ä»¥ä¸Š
- ãƒªãƒãƒ¼ãƒ æˆåŠŸç‡: 95%ä»¥ä¸Š  
- å‡¦ç†é€Ÿåº¦: åˆ†å‰²å‡¦ç†ã«ã‚ˆã‚‹é…å»¶ã‚’æœ€å°é™ã«æŠ‘åˆ¶
- ã‚¨ãƒ©ãƒ¼å‡¦ç†: å…¨ã‚¨ãƒ©ãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³ã®é©åˆ‡ãªå›å¾©å‡¦ç†

---

## ã€å®Ÿè£…å„ªå…ˆé †ä½ã€‘

### Phase 1: åˆ†å‰²åˆ¤å®šãƒ­ã‚¸ãƒƒã‚¯ï¼ˆ1é€±é–“ï¼‰
1. åˆ†å‰²å¯¾è±¡ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æ¤œå‡ºã‚¨ãƒ³ã‚¸ãƒ³ã®å®Ÿè£…
2. ã‚»ãƒƒãƒˆåˆ¤å®šã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®æ§‹ç¯‰
3. åˆ†å‰²ä¸è¦æ›¸é¡ã®åˆ¤å®šãƒ­ã‚¸ãƒƒã‚¯

### Phase 2: åˆ†å‰²å‡¦ç†æ©Ÿèƒ½ï¼ˆ1-2é€±é–“ï¼‰
1. PDFåˆ†å‰²ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®å®Ÿè£…
2. ä¸€æ™‚ãƒ•ã‚¡ã‚¤ãƒ«ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ 
3. åˆ†å‰²å¢ƒç•Œæ¤œå‡ºã®ç²¾åº¦å‘ä¸Š

### Phase 3: ãƒªãƒãƒ¼ãƒ å‡¦ç†ã®ä¿®æ­£ï¼ˆ1é€±é–“ï¼‰
1. 2æ®µéšå‡¦ç†ã‚·ã‚¹ãƒ†ãƒ ã®å®Ÿè£…
2. æœ€çµ‚ãƒ•ã‚¡ã‚¤ãƒ«åç”Ÿæˆãƒ­ã‚¸ãƒƒã‚¯
3. ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®å¼·åŒ–

### Phase 4: çµ±åˆãƒ†ã‚¹ãƒˆï¼ˆ1é€±é–“ï¼‰
1. å…¨ãƒ‘ã‚¿ãƒ¼ãƒ³ã®å‹•ä½œæ¤œè¨¼
2. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ
3. ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£ç¢ºèª

---

## ã€åˆ¶ç´„æ¡ä»¶ã€‘

### æŠ€è¡“åˆ¶ç´„
- ç¾è¡Œã®PDFå‡¦ç†ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ç¶™ç¶šä½¿ç”¨
- OCRã‚¨ãƒ³ã‚¸ãƒ³ï¼ˆTesseractï¼‰ã®æ€§èƒ½ç¯„å›²å†…ã§ã®å®Ÿè£…
- ä¸€æ™‚ãƒ•ã‚¡ã‚¤ãƒ«ç”¨ã®ãƒ‡ã‚£ã‚¹ã‚¯å®¹é‡ç¢ºä¿

### é‹ç”¨åˆ¶ç´„
- æ—¢å­˜å‡¦ç†ã¸ã®å½±éŸ¿ã‚’æœ€å°é™ã«æŠ‘åˆ¶
- å‡¦ç†æ™‚é–“ã®å¤§å¹…ãªå¢—åŠ ã‚’é¿ã‘ã‚‹
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã®å¤§å¹…å¤‰æ›´ã‚’é¿ã‘ã‚‹

**GitHub IssueåŒ–ãŠã‚ˆã³æ®µéšçš„å®Ÿè£…ã«ã‚ˆã‚Šã€ç¢ºå®Ÿãªå“è³ªå‘ä¸Šã‚’å›³ã‚Šã¾ã™ã€‚**